{"version":3,"sources":["actions/alert.js","actions/types.js","utils/setAuthToken.js","actions/auth.js","components/layout/Navbar.js","components/layout/Landing.js","components/auth/Register.js","components/auth/Login.js","components/layout/Alert.js","components/dashboard/Dashboard.js","components/routing/PrivateRoute.js","reducers/alert.js","reducers/auth.js","reducers/index.js","store.js","App.js","index.js"],"names":["setAlert","msg","alertType","timeout","dispatch","id","uuid","v4","type","payload","setTimeout","setAuthToken","token","axios","defaults","headers","common","loadUser","a","localStorage","get","res","data","connect","state","auth","logout","isAuthenticated","loading","authLinks","onClick","href","className","guestLinks","to","Landing","register","name","email","password","config","body","JSON","stringify","post","errors","response","forEach","error","useState","password2","formData","setFormData","onChange","e","target","value","onSubmit","preventDefault","placeholder","class","login","required","minLength","alerts","alert","length","map","key","Dashboard","props","Component","component","rest","render","initialState","getItem","user","combineReducers","action","filter","setItem","removeItem","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","App","useEffect","exact","path","Register","Login","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f91df605.chunk.js","sourcesContent":["import uuid from 'uuid';\nimport { SET_ALERT, REMOVE_ALERT } from './types';\n\nexport const setAlert = (msg, alertType, timeout = 5000) => dispatch => {\n  const id =  uuid.v4();\n  dispatch({\n     type: SET_ALERT,\n     payload: { msg, alertType, id }\n  });\n\n  setTimeout(() => dispatch({ type: REMOVE_ALERT, payload: id }), timeout);\n};","export const SET_ALERT = 'SET_ALERT';\nexport const REMOVE_ALERT = 'REMOVE_ALERT';\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\nexport const USER_LOADED = 'USER_LOADED';\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\nexport const LOGOUT = 'LOGOUT';","import axios from 'axios';\n\nconst setAuthToken = token => {\n  if(token){\n    axios.defaults.headers.common['x-auth-token'] = token;\n  } else {\n    delete axios.defaults.headers.common['x-auth-token'];\n  }\n}\n\nexport default setAuthToken;","import axios from 'axios';\nimport { setAlert } from './alert';\nimport { \n  REGISTER_SUCCESS, \n  REGISTER_FAIL,\n  USER_LOADED,\n  AUTH_ERROR,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT\n } from './types';\n\n import setAuthToken from '../utils/setAuthToken';\n\n // Load User\n export const loadUser = () => async dispatch =>  {\n   if(localStorage.token){\n     setAuthToken(localStorage.token);\n   }\n\n   try {\n     const res = await axios.get('/api/auth');\n\n     dispatch({\n       type: USER_LOADED,\n       payload: res.data\n     });\n   } catch (err) {\n     dispatch({\n       type: AUTH_ERROR\n     });\n   }\n }\n\n// Register user\nexport const register = ({ name, email, password }) => async dispatch => {\n   const config = {\n     headers: {\n       'Content-Type': 'application/json'\n     }\n   }\n\n   const body = JSON.stringify({ name, email, password });\n\n   try {\n     const res = await axios.post('/api/users', body, config);\n\n     dispatch({\n       type: REGISTER_SUCCESS,\n       payload: res.data\n     });\n\n     dispatch(loadUser());\n   } catch (err) {\n     const errors = err.response.data.errors;\n    \n     if(errors){\n       errors.forEach(error => dispatch(setAlert(error.msg, 'danger'))); \n     }\n\n     dispatch({\n       type: REGISTER_FAIL\n     });\n   }\n};\n\n// Login user\nexport const login  = (email, password) => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }\n\n  const body = JSON.stringify({ email, password });\n\n  try {\n    const res = await axios.post('/api/auth', body, config);\n\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: res.data\n    });\n\n    dispatch(loadUser());\n  } catch (err) {\n    const errors = err.response.data.errors;\n   \n    if(errors){\n      errors.forEach(error => dispatch(setAlert(error.msg, 'danger'))); \n    }\n\n    dispatch({\n      type: LOGIN_FAIL\n    });\n  }\n}\n\n// Logout / clear profile\nexport const logout = () => dispatch => {\n  dispatch({ type: LOGOUT });\n}\n","import React, {Fragment} from 'react'\nimport { Link } from 'react-router-dom';\nimport { FaHandHoldingHeart } from \"react-icons/fa\";\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { logout } from '../../actions/auth';\n\n\nexport const Navbar = ({ auth: { isAuthenticated, loading }, logout }) => {\n  const authLinks = (\n    <ul>\n        <li>\n          <a onClick={logout} href='#!'>\n          <i className='fas fa-sign-out-alt'></i>{' '}\n          <span className='hide-sm'>\n          logout</span></a>\n        </li>\n    </ul>\n  );\n\n  const guestLinks = ( \n    <ul>\n        <li>\n          <a href='#!'>Proveedores</a>\n        </li>\n        <li>\n          <Link to='/register'>Regístrate</Link>\n        </li>\n        <li>\n          <Link to='/login'>Inicia Sesión</Link>\n        </li>\n    </ul>\n  );\n\n  return (\n    <nav className='navbar bg-dark'>\n      <h1> \n        <Link to='/'>\n           TogetherClick <FaHandHoldingHeart />\n        </Link>\n      </h1>\n       { !loading && (<Fragment>{ isAuthenticated ? authLinks : guestLinks }</Fragment>) }\n    </nav>\n  )\n}\n\nNavbar.propTypes = {\n  logout: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, { logout })(Navbar);","import React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\n\n\nexport const Landing = () => {\n\n  return (\n    <section className='landing'> \n     <div className='dark-overlay'>\n      <div className='landing-inner'>\n       <h1 className='x-large'>Together Click <br/>\n       </h1>\n       <h2>El espacio incluyente donde toda la comunidad de bodas se conecta </h2> <br/>\n        <div className='buttons'>\n         <Link to='/register' className='btn btn-primary'>\n           Regístrate\n         </Link>\n         <Link to='/login' className='btn btn-light'>\n           Inicia Sesión\n         </Link>\n        </div>\n      </div>\n     </div>     \n    </section>\n  )\n}\n\nexport default Landing;","import React, { Fragment, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, Redirect } from 'react-router-dom';\nimport { setAlert } from '../../actions/alert';\nimport { register } from '../../actions/auth';\n\nimport PropTypes from 'prop-types';\n\n\nconst Register = ({ setAlert, register, isAuthenticated }) => {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    password2: ''\n  });\n\n  const { name, email, password, password2 } = formData;\n\n  const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value })\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    if( password !== password2){\n      setAlert('La contraseña no coincide', 'danger');\n    } else {\n      register({ name, email, password });\n      \n    }\n  }\n\n   if(isAuthenticated){\n     return <Redirect to='/dashboard'/>;\n   }\n\n\n  return (\n    <Fragment>\n      <h1 className='large text-primary'>Regístrate</h1>\n        <p className='lead'>Crea Tu Cuenta</p>\n        <form className='form' onSubmit={e => onSubmit(e)}>\n          <div className='form-group'>\n            <input \n              type='text' \n              placeholder='Name' \n              name='name' \n              value={name} \n              onChange={e => onChange(e)}\n              />\n          </div>\n          <div className='form-group'>\n            <input \n              type='email' \n              placeholder='Email address' \n              name='email'\n              value={email} \n              onChange={e => onChange(e)}\n              />\n            <small className='form-text'>\n              Puedes usar tu foto de email \n            </small>\n          </div>\n          <div className='form-group'>\n            <input \n              type='password'\n              placeholder='password'\n              name='password'\n              value={password} \n              onChange={e => onChange(e)}\n            />\n          </div>\n          <div className='form-group'>\n            <input \n              type='password'\n              placeholder='Confirm Password'\n              name='password2'\n              value={password2} \n              onChange={e => onChange(e)}\n            />\n          </div>\n          <input type='submit' class='btn btn-primary' value='Register' />\n        </form>\n        <p className='my-1'>\n         ¿Ya tienes una cuenta? <Link to='/login'>Inicia Sesión</Link>\n\n        </p>\n\n    </Fragment>\n  );\n};\n\nRegister.propTypes = {\n   setAlert: PropTypes.func.isRequired,\n   register: PropTypes.func.isRequired,\n   isAuthenticated: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated\n});\n\nexport default connect(mapStateToProps, { setAlert, register })(Register);","import React, { Fragment, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { login } from '../../actions/auth';\n\nconst Login = ({ login, isAuthenticated }) => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n\n  const { email, password } = formData;\n\n  const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value })\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    login(email, password);\n    }\n\n  // Redirect if logged in\n  if(isAuthenticated) {\n    return <Redirect to='/dashboard' />;\n  }\n  return (\n    <Fragment>\n      <h1 className='large text-primary'>Inicia Sesión</h1>\n        <p className='lead'>Ingresa a tu Cuenta</p>\n        <form className='form' onSubmit={e => onSubmit(e)}>\n          <div className='form-group'>\n            <input \n              type='email' \n              placeholder='Email address' \n              name='email'\n              value={email} \n              onChange={e => onChange(e)}\n              required\n              />\n          </div>\n          <div className='form-group'>\n            <input \n              type='password'\n              placeholder='password'\n              name='password'\n              value={password} \n              onChange={e => onChange(e)}\n              minLength='6'\n            />\n          </div>\n          <input type='submit' class='btn btn-primary' value='Login' />\n        </form>\n        <p className='my-1'>\n         ¿Aún no tienes una cuenta? <Link to='/register'>Regístrate</Link>\n\n        </p>\n\n    </Fragment>\n  )\n}\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated\n});\n\nexport default connect(mapStateToProps, { login })(Login);","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux';\n\nconst Alert = ({ alerts }) => \nalerts !== null && \nalerts.length > 0 && \nalerts.map(alert => (\n   <div key={alert.id} className={`alert alert-${alert.alertType}`}>\n     { alert.msg }\n   </div>\n))\n\nAlert.propTypes = {\n  alerts: PropTypes.array.isRequired\n}\n\nconst mapStateToProps = state => ({\n  alerts: state.alert\n});\n\nexport default connect(mapStateToProps)(Alert); \n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Dashboard = props => {\n  return (\n    <div>\n      <p>Dashboard</p>\n    </div>\n  )\n}\n\nDashboard.propTypes = {\n\n}\n\nexport default Dashboard\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nconst PrivateRoute = ({ component: Component, auth: {isAuthenticated, loading}, ...rest }) => (\n  <Route {...rest} render={props => !isAuthenticated && !loading ? (<Redirect to='/login' />) : (<Component {...props} />)} \n  />\n);\n\nPrivateRoute.propTypes = {\n  auth: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps)(PrivateRoute)\n","import { SET_ALERT, REMOVE_ALERT } from '../actions/types';\n\nconst initialState = [];\n\nexport default function (state = initialState, action){\n  const { type, payload } = action;\n\n  switch(type){\n    case SET_ALERT:\n      return [...state, payload];\n    case REMOVE_ALERT:\n      return state.filter(alert => alert.id !== payload);\n    default:\n      return state;\n\n  }\n\n}","import {\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n  USER_LOADED,\n  AUTH_ERROR,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT\n} from '../actions/types';\n\nconst initialState = {\n  token: localStorage.getItem('token'),\n  isAuthenticated: null, \n  loading: true,\n  user: null\n}\n\nexport default function(state = initialState, action) {\n  const { type, payload } = action;\n  switch(type){\n    case USER_LOADED: \n      return {\n        ...state,\n        isAuthenticated: true,\n        loading: false,\n        user: payload\n      }\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS: \n      localStorage.setItem('token', payload.token);\n      return {\n        ...state,\n        ...payload,\n        isAuthenticated: true,\n        loading: false\n      }\n    case REGISTER_FAIL:\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n    case LOGOUT:\n      localStorage.removeItem('token');\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false\n      }\n    default:\n      return state;\n      \n\n  }\n\n}","import { combineReducers } from 'redux';\nimport alert from './alert';\nimport auth from './auth';\n\n\nexport default combineReducers({\n  alert,\n  auth\n});","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer, \n  initialState, \n  composeWithDevTools(applyMiddleware(...middleware))\n  );\n\n  export default store;","import React, { Fragment, useEffect  } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Navbar from './components/layout/Navbar'\nimport Landing from './components/layout/Landing'\nimport Register from './components/auth/Register'\nimport Login from './components/auth/Login'\nimport Alert from './components/layout/Alert'\nimport Dashboard from './components/dashboard/Dashboard'\nimport PrivateRoute from './components/routing/PrivateRoute'\n\n\n\n// Redux\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { loadUser } from './actions/auth'\nimport setAuthToken from './utils/setAuthToken';\n\nimport './App.css';\n\nif(localStorage.token){\n  setAuthToken(localStorage.token);\n}\n\n\nconst  App = () => {\n  useEffect(() => {\n    store.dispatch(loadUser());\n  }, []);\n\n  return(\n  <Provider store={store}>\n    <Router>\n      <Fragment>\n        <Navbar />\n        <Route exact path='/' component={Landing} />\n        <section className='container'>\n        <Alert />\n        <Switch>\n          <Route exact path='/register' component={Register} />\n          <Route exact path='/login' component={Login} />\n          <PrivateRoute exact path='/dashboard' component={Dashboard} />\n        </Switch>\n        </section>\n      </Fragment>\n    </Router>\n  </Provider>\n  )\n}\n\n  \nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}